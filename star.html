<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title data-i18n="star_page.title">Rate CoderOne IDE</title>
  <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap" rel="stylesheet">
  <style>
    body{background:#0a0a0b;color:#e8ecf8;font-family:'Roboto',sans-serif;margin:0;padding:0;}
    header{background:#16171c;padding:40px 20px;text-align:center;box-shadow:0 6px 30px rgba(0,0,0,0.3);}
    h1{color:#5ef0ff;margin:0;font-size:2.8em;text-shadow:0 0 10px #7a5cff;}
    .subtitle{color:#8b92a7;margin-top:10px;font-size:1.2em;}
    main{max-width:800px;margin:50px auto;padding:0 20px;}
    .rating-container{background:rgba(94,240,255,0.05);padding:40px;border-radius:20px;text-align:center;border:1px solid rgba(94,240,255,0.2);}
    .stars{display:flex;justify-content:center;gap:10px;margin:30px 0;font-size:3em;}
    .star{cursor:pointer;color:#444;transition:color 0.2s, transform 0.2s, text-shadow 0.2s;}
    .star:hover{transform:scale(1.1);text-shadow:0 0 15px #5ef0ff;}
    .star.active{color:#5ef0ff;text-shadow:0 0 20px #5ef0ff;}
    .star.filled{color:#ffd700;text-shadow:0 0 20px #ffd700;}
    .rating-text{font-size:1.3em;margin:20px 0;color:#e8ecf8;min-height:50px;}
    .github-section{margin-top:40px;padding:30px;background:rgba(122,92,255,0.05);border-radius:15px;border:1px solid rgba(122,92,255,0.2);}
    .github-btn{display:inline-block;margin:20px 10px;padding:16px 32px;border-radius:20px;background:linear-gradient(135deg,#5ef0ff,#7a5cff);color:#061016;font-weight:700;text-decoration:none;font-size:1.1em;transition:transform 0.2s, box-shadow 0.2s;}
    .github-btn:hover{transform:scale(1.05);box-shadow:0 10px 30px rgba(94,240,255,0.5);}
    .feedback-area{margin-top:30px;}
    .feedback-input{width:100%;min-height:100px;padding:15px;background:#0b0d11;color:#e8ecf8;border:1px solid rgba(255,255,255,0.12);border-radius:12px;font-family:inherit;resize:vertical;}
    .submit-btn{margin-top:20px;padding:14px 28px;border:none;border-radius:12px;background:linear-gradient(135deg,#5ef0ff,#7a5cff);color:#061016;font-weight:700;cursor:pointer;font-size:1em;transition:transform 0.2s, box-shadow 0.2s;}
    .submit-btn:hover{transform:scale(1.05);box-shadow:0 10px 30px rgba(94,240,255,0.5);}
    footer{text-align:center;padding:30px;color:#8b92a7;}
    .back-link{color:#7a5cff;text-decoration:none;font-weight:700;}
    .back-link:hover{color:#5ef0ff;}
  </style>
</head>
<body>
<header>
  <h1 data-i18n="star_page.title">‚≠ê Rate CoderOne IDE</h1>
  <p class="subtitle" data-i18n="star_page.subtitle">Help us improve by sharing your thoughts and rating our project!</p>
</header>

<main>
  <div class="rating-container">
    <h2 data-i18n="star_page.rate_question">How would you rate CoderOne IDE?</h2>
    <div class="stars" id="starRating">
      <span class="star" data-rating="1">‚òÖ</span>
      <span class="star" data-rating="2">‚òÖ</span>
      <span class="star" data-rating="3">‚òÖ</span>
      <span class="star" data-rating="4">‚òÖ</span>
      <span class="star" data-rating="5">‚òÖ</span>
    </div>
    <div class="rating-text" id="ratingText" data-i18n="star_page.click_star">Click a star to rate</div>
    
    <div class="feedback-area">
      <h3 data-i18n="star_page.feedback_title">Share your feedback (optional)</h3>
      <textarea class="feedback-input" id="feedbackText" data-i18n="star_page.feedback_placeholder" placeholder="Tell us what you think about CoderOne IDE, what features you'd like to see, or any suggestions for improvement..."></textarea>
      <br>
      <button class="submit-btn" onclick="submitRating()" data-i18n="star_page.submit_rating">Submit Rating & Feedback</button>
    </div>
  </div>

  <div class="github-section">
    <h2 data-i18n="star_page.github_section_title">‚≠ê Star us on GitHub!</h2>
    <p data-i18n="star_page.github_description">If you like CoderOne IDE, please consider starring our GitHub repository to help others discover our project.</p>
    <a href="https://github.com/JosephDarcko/CoderOne-Page" target="_blank" class="github-btn" data-i18n="common.star_on_github">‚òÖ Star on GitHub</a>
    <a href="https://github.com/JosephDarcko/CoderOne-Page/issues" target="_blank" class="github-btn" data-i18n="star_page.report_issues">üìù Report Issues</a>
  </div>
</main>

<footer>
  <a href="index.html" class="back-link" data-i18n="common.back_to_home">‚Üê Back to Home</a>
</footer>

<script>
let selectedRating = 0;
const stars = document.querySelectorAll('.star');
const ratingText = document.getElementById('ratingText');

const ratingMessages = {
  1: "star_page.rating_messages.1",
  2: "star_page.rating_messages.2",
  3: "star_page.rating_messages.3",
  4: "star_page.rating_messages.4",
  5: "star_page.rating_messages.5"
};

stars.forEach((star, index) => {
  star.addEventListener('mouseover', () => {
    highlightStars(index + 1);
  });

  star.addEventListener('mouseout', () => {
    highlightStars(selectedRating);
  });

  star.addEventListener('click', () => {
    selectedRating = index + 1;
    highlightStars(selectedRating);
    // Use i18n for rating messages
    const messageKey = ratingMessages[selectedRating];
    ratingText.textContent = window.i18n ? window.i18n.t(messageKey) : messageKey;
  });
});

function highlightStars(rating) {
  stars.forEach((star, index) => {
    star.classList.remove('active', 'filled');
    if (index < rating) {
      if (selectedRating > 0 && index < selectedRating) {
        star.classList.add('filled');
      } else {
        star.classList.add('active');
      }
    }
  });
}

function submitRating() {
  if (selectedRating === 0) {
    alert('Please select a rating first!');
    return;
  }

  const feedback = document.getElementById('feedbackText').value;
  const message = `Thank you for rating CoderOne IDE ${selectedRating} star${selectedRating !== 1 ? 's' : ''}!${feedback ? ' Your feedback has been noted.' : ''}`;
  
  alert(message);
  
  // Reset form
  selectedRating = 0;
  highlightStars(0);
  const thankYouText = window.i18n ? window.i18n.t('star_page.click_star') : 'Thank you for your rating!';
  ratingText.textContent = thankYouText;
  document.getElementById('feedbackText').value = '';
}
</script>
<script src="./i18n.js"></script>
</body>
</html>